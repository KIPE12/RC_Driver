<map id="Control" name="Control">
<area shape="rect" id="Node000001" title="PMSM 메인 제어 함수 (TIM2 인터럽트에서 100µs 주기로 호출)" alt="" coords="5,461,69,488"/>
<area shape="rect" id="Node000002" href="$adc_8c.html#a39fd8940b1565d6d40f65b288f358c6c" title="ADC 원시값을 물리량(전류/전압)으로 변환한다." alt="" coords="142,5,234,32"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="37,461,43,378,57,256,81,133,96,84,115,49,130,37,128,42,119,52,101,86,86,134,63,257,48,379,42,461"/>
<area shape="rect" id="Node000003" href="$inv_8c.html#ad14c7779ae276ada8516bc3d58997206" title="d축 전류 정렬 절차 (4단계 상태 머신)" alt="" coords="163,259,214,285"/>
<area shape="poly" id="edge2_Node000001_Node000003" title=" " alt="" coords="39,460,47,429,62,387,84,342,115,302,150,282,147,286,118,306,89,345,67,389,52,430,44,461"/>
<area shape="rect" id="Node000004" href="$inv_8c.html#a68f857bdf76878fd721ac48e6c354997" title="PI 전류 제어기 (d&#45;q 동기 좌표계)" alt="" coords="352,309,458,336"/>
<area shape="poly" id="edge8_Node000001_Node000004" title=" " alt="" coords="42,460,69,414,90,389,115,368,170,343,228,328,285,320,338,319,334,322,286,325,229,333,171,348,118,373,94,393,73,417,47,462"/>
<area shape="rect" id="Node000005" href="$inv_8c.html#a4b849dca1f135dd860c6f0ce88cc7c13" title="TIM1 CCR 레지스터에 듀티비를 업데이트한다." alt="" coords="550,183,651,209"/>
<area shape="poly" id="edge14_Node000001_Node000005" title=" " alt="" coords="37,461,46,395,62,302,85,211,99,175,115,150,159,109,204,78,248,58,294,48,342,47,392,55,446,70,503,92,529,107,552,127,586,169,580,170,548,130,526,111,501,97,444,75,391,60,342,52,295,53,250,63,206,83,163,113,119,154,103,177,90,213,67,303,51,396,43,461"/>
<area shape="rect" id="Node000006" href="$inv_8c.html#a031511fea69b8fce19a44f86eb1858fe" title="TIM1 PWM 출력을 활성화한다 (3상 상하 암 모두)." alt="" coords="557,284,644,311"/>
<area shape="poly" id="edge16_Node000001_Node000006" title=" " alt="" coords="67,461,116,447,175,437,226,434,315,436,357,436,400,432,448,419,501,396,525,381,547,362,580,326,584,322,550,366,528,385,504,401,449,424,401,437,357,442,315,442,226,439,176,442,117,452,71,465"/>
<area shape="rect" id="Node000007" href="$inv_8c.html#a5eb5c4adfd5c3833415678e1da00bf93" title="Hall 위치 테스트: 기본 전압 벡터를 순차 인가한다." alt="" coords="127,461,250,488"/>
<area shape="poly" id="edge9_Node000001_Node000007" title=" " alt="" coords="68,472,113,473,109,477,71,477"/>
<area shape="rect" id="Node000008" href="$inv_8c.html#a3db77525a1b8b485f18baebc7e086cb1" title="Hall 센서 기반 속도/위치 PLL 옵저버" alt="" coords="117,512,260,539"/>
<area shape="poly" id="edge10_Node000001_Node000008" title=" " alt="" coords="68,483,134,505,130,508,70,488"/>
<area shape="rect" id="Node000010" href="$adc_8c.html#a5c5c41c37d32d75b9a5844f877762629" title="전류 센서 오프셋을 자동 측정한다." alt="" coords="160,563,216,589"/>
<area shape="poly" id="edge12_Node000001_Node000010" title=" " alt="" coords="49,486,80,517,118,548,148,563,143,565,115,553,76,521,50,491"/>
<area shape="rect" id="Node000011" href="$inv_8c.html#a964ec348ab2be811f76c85501ac14208" title="전류 개루프 제어 (Open&#45;Loop Current Control)" alt="" coords="127,613,250,640"/>
<area shape="poly" id="edge13_Node000001_Node000011" title=" " alt="" coords="43,486,72,542,92,572,118,599,125,605,120,606,115,603,88,576,67,544,44,491"/>
<area shape="rect" id="Node000012" href="$inv_8c.html#a9013a288bba48367bf9d57702c80b1ee" title="TIM1 PWM 출력을 비활성화한다." alt="" coords="362,689,449,716"/>
<area shape="poly" id="edge15_Node000001_Node000012" title=" " alt="" coords="38,486,43,532,53,591,63,622,76,652,95,679,118,701,144,715,173,725,203,731,234,733,294,729,350,720,345,722,295,734,234,738,202,736,172,731,142,720,115,705,91,682,72,655,58,624,48,592,38,532,38,491"/>
<area shape="rect" id="Node000013" href="$inv_8c.html#a1f6df58c2a073ad2274f97f6a504c96d" title="모든 제어 상태 변수를 초기값으로 리셋한다." alt="" coords="132,765,244,792"/>
<area shape="poly" id="edge17_Node000001_Node000013" title=" " alt="" coords="39,486,44,536,55,603,78,678,96,713,119,745,131,756,125,757,115,748,91,716,73,680,50,605,39,536,38,491"/>
<area shape="rect" id="Node000014" href="$fault_8c.html#a5d0d662228c78364b02259814f0f8ccd" title="소프트웨어 고장 처리 함수" alt="" coords="136,664,240,691"/>
<area shape="poly" id="edge18_Node000001_Node000014" title=" " alt="" coords="40,486,51,521,65,564,87,610,119,650,125,656,120,658,115,654,82,613,60,566,45,522,41,491"/>
<area shape="rect" id="Node000015" href="$inv_8c.html#aa0c62359efaad04d667cc7d8d3e169e6" title="PI 속도 제어기 (rpm → 토크 기준 생성)" alt="" coords="138,816,238,843"/>
<area shape="poly" id="edge20_Node000001_Node000015" title=" " alt="" coords="40,486,51,554,67,648,90,741,104,778,119,802,128,811,122,812,115,806,99,780,85,743,62,650,46,555,40,491"/>
<area shape="rect" id="Node000016" href="$inv_8c.html#a9fabfabf3cf816a557870ac6174ba05b" title="제어기 게인을 현재 파라미터로 갱신한다." alt="" coords="129,867,248,893"/>
<area shape="poly" id="edge21_Node000001_Node000016" title=" " alt="" coords="40,486,49,563,64,673,87,781,102,824,119,853,122,858,116,857,115,856,97,826,82,783,59,674,44,564,39,491"/>
<area shape="rect" id="Node000017" href="$inv_8c.html#aedf8f86f640274dface77130a3d50207" title="d축 구형파 전압 주입 (파라미터 추정용)" alt="" coords="308,208,502,235"/>
<area shape="poly" id="edge22_Node000001_Node000017" title=" " alt="" coords="36,461,38,418,49,358,59,327,73,296,91,268,115,245,137,230,162,219,213,205,266,201,318,204,313,207,266,206,214,210,163,224,140,235,118,249,95,272,78,299,64,329,54,360,44,419,41,461"/>
<area shape="rect" id="Node000018" href="$inv_8c.html#aefbd0b8bc957317d7f22f0db0185683d" title="전압 개루프 제어 (Voltage Open&#45;Loop Control)" alt="" coords="322,360,488,387"/>
<area shape="poly" id="edge25_Node000001_Node000018" title=" " alt="" coords="47,459,76,430,95,415,116,403,163,386,212,375,309,368,305,371,213,381,164,391,118,408,98,419,79,434,52,462"/>
<area shape="rect" id="Node000019" href="$inv_8c.html#a01248186cec9f4dadc54e4c94be940cf" title="전압 기준 생성 제어 (전압 피드포워드 방식)" alt="" coords="346,107,464,133"/>
<area shape="poly" id="edge28_Node000001_Node000019" title=" " alt="" coords="35,461,37,413,47,344,57,307,71,270,90,235,115,205,138,185,164,168,220,143,278,128,333,121,329,125,279,134,222,148,166,173,141,189,119,209,95,238,76,272,62,309,53,345,43,413,41,461"/>
<area shape="poly" id="edge3_Node000003_Node000004" title=" " alt="" coords="213,275,340,305,335,308,215,280"/>
<area shape="poly" id="edge6_Node000003_Node000005" title=" " alt="" coords="203,257,247,223,276,206,307,193,367,181,427,177,485,179,538,185,533,187,485,184,427,183,367,187,309,199,279,211,250,227,207,260"/>
<area shape="poly" id="edge7_Node000003_Node000006" title=" " alt="" coords="213,271,544,292,540,296,215,276"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="426,307,568,216,564,220,429,311"/>
<area shape="poly" id="edge5_Node000004_Node000006" title=" " alt="" coords="457,313,544,303,540,306,460,318"/>
<area shape="rect" id="Node000009" href="$inv_8c.html#a158783ba9a4d5687c5fc417acfcc74a4" title="Hall 센서 3개의 상태를 3비트 정수로 변환한다." alt="" coords="336,512,474,539"/>
<area shape="poly" id="edge11_Node000008_Node000009" title=" " alt="" coords="259,523,323,524,319,527,261,528"/>
<area shape="poly" id="edge19_Node000014_Node000012" title=" " alt="" coords="241,681,348,695,344,697,241,686"/>
<area shape="poly" id="edge23_Node000017_Node000005" title=" " alt="" coords="502,206,537,203,533,206,504,211"/>
<area shape="poly" id="edge24_Node000017_Node000006" title=" " alt="" coords="451,233,503,251,560,276,555,278,501,256,452,238"/>
<area shape="poly" id="edge26_Node000018_Node000005" title=" " alt="" coords="480,357,501,346,518,329,528,313,548,271,580,225,584,220,553,273,533,315,522,333,504,350,483,362"/>
<area shape="poly" id="edge27_Node000018_Node000006" title=" " alt="" coords="466,357,501,346,565,317,561,320,503,350,469,362"/>
<area shape="poly" id="edge29_Node000019_Node000005" title=" " alt="" coords="450,131,503,150,560,175,555,177,501,154,452,136"/>
<area shape="poly" id="edge30_Node000019_Node000006" title=" " alt="" coords="425,131,504,194,580,272,575,273,501,198,426,136"/>
</map>
