\doxysection{C:\+/\+\+Users/\+\+USER/\+\+One\+Drive/\+\+Desktop/\+doxygen/\+\+RC\+\_\+\+DRIVER/\+control.c 파일 참조}
\hypertarget{control_8c}{}\label{control_8c}\index{C:/Users/USER/OneDrive/Desktop/doxygen/RC\_DRIVER/control.c@{C:/Users/USER/OneDrive/Desktop/doxygen/RC\_DRIVER/control.c}}


PMSM 메인 제어 루프 모듈  


{\ttfamily \+\#include "{}control.\+h"{}}\newline
{\ttfamily \+\#include "{}inv.\+h"{}}\newline
{\ttfamily \+\#include "{}variable.\+h"{}}\newline
{\ttfamily \+\#include "{}fault.\+h"{}}\newline
{\ttfamily \+\#include "{}flag.\+h"{}}\newline
{\ttfamily \+\#include "{}adc.\+h"{}}\newline
{\ttfamily \+\#include "{}speed\+\_\+observer.\+h"{}}\newline
control.\+c에 대한 include 의존 그래프
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{control_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{함수}
\begin{DoxyCompactItemize}
\item 
void \doxymbox{\hyperlink{control_8c_afb486c446e28753e3dca5112dfdc8264}{Control}} (void)
\begin{DoxyCompactList}\small\item\em PMSM 메인 제어 함수 (TIM2 인터럽트에서 100µs 주기로 호출) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{변수}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \doxymbox{\hyperlink{control_8c_a8dde33cdd74f2fd5bc110c7986794411}{Control\+Cnt}}
\begin{DoxyCompactList}\small\item\em 제어 루프 실행 횟수 카운터 (디버깅용) TIM2 인터럽트마다 1씩 증가한다. uint32\+\_\+t 오버플로우 시 자연 순환. \end{DoxyCompactList}\item 
uint8\+\_\+t \doxymbox{\hyperlink{control_8c_aee4f58524acc5e1a9386b2e9223e4846}{T\+\_\+buffer}} \+[0]\+
\item 
ADC\+\_\+\+Handle\+Type\+Def \doxymbox{\hyperlink{control_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}}
\begin{DoxyCompactList}\small\item\em ADC1 HAL 핸들 구조체 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{상세한 설명}
PMSM 메인 제어 루프 모듈 

TIM2 인터럽트에서 100µs(10k\+Hz)마다 호출되는 \doxylink{control_8c_afb486c446e28753e3dca5112dfdc8264}{Control()} 함수를 정의한다.

제어 루프 실행 순서:\+
\begin{DoxyEnumerate}
\item ADC JDR1\texorpdfstring{$\sim$}{\string~}\+JDR4 직접 읽기
\item 오프셋 보정 미완료 → \doxylink{adc_8c_a5c5c41c37d32d75b9a5844f877762629}{Offset()}, 완료 → \doxylink{adc_8c_a39fd8940b1565d6d40f65b288f358c6c}{Adc\+Process()}
\item 과전류 보호:\+ \texorpdfstring{$\vert$}{|}\+I\texorpdfstring{$\vert$}{|} ≥ 80A → \doxylink{fault_8c_a5d0d662228c78364b02259814f0f8ccd}{Soft\+Ware\+Fault()}
\item 제어기 게인 갱신:\+ \doxylink{inv_8c_a9fabfabf3cf816a557870ac6174ba05b}{Update\+Controller()}
\item Hall 옵저버:\+ \doxylink{inv_8c_a3db77525a1b8b485f18baebc7e086cb1}{Hallsensor\+\_\+\+Observer()}
\item FLAG 기반 운전 모드 분기
\end{DoxyEnumerate}

운전 모드 분기 표:\+ 
\begin{DoxyTable}{3}{}{}{1}
\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}FLAG  &\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}함수  &\SetCell{c,bg=\tableheadbgcolor,font=\bfseries}설명  \\
INV\+\_\+\+RUN  &Speed\+Control + Vref\+\_\+\+Gen\+Control  &폐루프 속도 제어  \\
HALL\+\_\+\+POS\+\_\+\+TEST  &Hall\+Position\+\_\+\+Test  &Hall 위치 확인  \\
DUTY\+\_\+\+TEST  &고정 듀티 설정  &인버터 동작 확인  \\
INV\+\_\+\+OLC  &Open\+Loop\+Control + Current\+Control  &전류 개루프 제어  \\
INV\+\_\+\+Vref\+\_\+\+Gen  &Vref\+\_\+\+Gen\+Control  &전압 기준 생성  \\
INV\+\_\+\+VOLC  &Voltage\+Open\+Loop\+Control  &전압 개루프 제어  \\
Param\+\_\+\+Estimation  &Voltage\+Injection\+\_\+\+Square\+Wave  &파라미터 추정  \\
INV\+\_\+\+ALIGN  &Align  &d축 초기 정렬  \\
없음 /\+ FAULT  &Pwm\+Sw\+Off + Reset\+Controller  &전체 정지  \\
\end{DoxyTable}


\begin{DoxyAuthor}{작성자}
HALAB\+\_\+G 
\end{DoxyAuthor}
\begin{DoxyDate}{날짜}
2024-\/12-\/06 
\end{DoxyDate}


\doxymbox{\hyperlink{control_8c_source}{control.\+c}} 파일에서 정의되었습니다.



\label{doc-func-members}
\Hypertarget{control_8c_doc-func-members}
\doxysubsection{함수 문서화}
\Hypertarget{control_8c_afb486c446e28753e3dca5112dfdc8264}\index{control.c@{control.c}!Control@{Control}}
\index{Control@{Control}!control.c@{control.c}}
\doxysubsubsection{\texorpdfstring{Control()}{Control()}}
{\footnotesize\ttfamily \label{control_8c_afb486c446e28753e3dca5112dfdc8264} 
void Control (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



PMSM 메인 제어 함수 (TIM2 인터럽트에서 100µs 주기로 호출) 

ADC 원시값 읽기 → 과전류 보호 → 운전 모드 선택 → 제어 출력 순서로 실행된다.

\begin{DoxyNote}{주의}
ADC JDR 레지스터를 직접 읽어 HAL 콜백 지연을 제거한다. 

과전류 임계값:\+ ±80A (소프트웨어 보호) 
\end{DoxyNote}
\begin{DoxyWarning}{경고}
실행 시간이 100µs를 초과하면 제어 주기 위반이 발생한다.
\end{DoxyWarning}

\begin{DoxyRetVals}{반환값}
{\em None} & \\
\hline
\end{DoxyRetVals}


\doxymbox{\hyperlink{control_8c_source}{control.\+c}} 파일의 \doxymbox{\hyperlink{control_8c_source_l00060}{60}} 번째 라인에서 정의되었습니다.


\begin{DoxyCode}{0}
\DoxyCodeLine{00061\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \doxymbox{\hyperlink{control_8c_a8dde33cdd74f2fd5bc110c7986794411}{ControlCnt}}++;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{/*\ ADC\ Injected\ 레지스터\ 직접\ 읽기\ */}}
\DoxyCodeLine{00065\ \ \ \ \ \doxymbox{\hyperlink{group___a_d_c___variables_ga3f46ad79f65150aec6105a862cf32624}{adc1Val}}[0]\ =\ \doxymbox{\hyperlink{adc_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}}.Instance-\/>JDR1;\ \textcolor{comment}{/*\ Ia\ \ [LSB]\ */}}
\DoxyCodeLine{00066\ \ \ \ \ \doxymbox{\hyperlink{group___a_d_c___variables_ga3f46ad79f65150aec6105a862cf32624}{adc1Val}}[1]\ =\ \doxymbox{\hyperlink{adc_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}}.Instance-\/>JDR2;\ \textcolor{comment}{/*\ Ib\ \ [LSB]\ */}}
\DoxyCodeLine{00067\ \ \ \ \ \doxymbox{\hyperlink{group___a_d_c___variables_ga3f46ad79f65150aec6105a862cf32624}{adc1Val}}[2]\ =\ \doxymbox{\hyperlink{adc_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}}.Instance-\/>JDR3;\ \textcolor{comment}{/*\ Ic\ \ [LSB]\ */}}
\DoxyCodeLine{00068\ \ \ \ \ \doxymbox{\hyperlink{group___a_d_c___variables_ga3f46ad79f65150aec6105a862cf32624}{adc1Val}}[3]\ =\ \doxymbox{\hyperlink{adc_8c_a22b804736f5648d52f639b2647d4ed13}{hadc1}}.Instance-\/>JDR4;\ \textcolor{comment}{/*\ Vdc\ [LSB]\ */}}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\doxymbox{\hyperlink{group___a_d_c___variables_ga734b67f14f678f4b701be37706729cd0}{AdInitFlag}})}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{adc_8c_a5c5c41c37d32d75b9a5844f877762629}{Offset}}();}
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{adc_8c_a39fd8940b1565d6d40f65b288f358c6c}{AdcProcess}}();}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{comment}{/*\ 소프트웨어\ 과전류\ 보호\ */}}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{if}\ (ABS(\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Ia)\ >=\ 80.f)\ \{\ \doxymbox{\hyperlink{fault_8c_a5d0d662228c78364b02259814f0f8ccd}{SoftWareFault}}();\ \}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{if}\ (ABS(\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Ib)\ >=\ 80.f)\ \{\ \doxymbox{\hyperlink{fault_8c_a5d0d662228c78364b02259814f0f8ccd}{SoftWareFault}}();\ \}}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{if}\ (ABS(\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Ic)\ >=\ 80.f)\ \{\ \doxymbox{\hyperlink{fault_8c_a5d0d662228c78364b02259814f0f8ccd}{SoftWareFault}}();\ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a9fabfabf3cf816a557870ac6174ba05b}{UpdateController}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00081\ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a3db77525a1b8b485f18baebc7e086cb1}{Hallsensor\_Observer}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.READY\ \&\&\ !(\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.FAULT))\ \{}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_RUN)\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_aa0c62359efaad04d667cc7d8d3e169e6}{SpeedControl}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a01248186cec9f4dadc54e4c94be940cf}{Vref\_GenControl}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.HALL\_POS\_TEST)\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5eb5c4adfd5c3833415678e1da00bf93}{HallPosition\_Test}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a4b849dca1f135dd860c6f0ce88cc7c13}{PwmDutyUpt}}();}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a031511fea69b8fce19a44f86eb1858fe}{PwmSwOn}}();}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ PWM\_BUF\_ON;}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.DUTY\_TEST)\ \{}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_A\ =\ LIMIT(\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_A,\ 0.f,\ 0.95f);}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_B\ =\ LIMIT(\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_B,\ 0.f,\ 0.95f);}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_C\ =\ LIMIT(\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_C,\ 0.f,\ 0.95f);}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_A\ =\ 0.2f;}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_B\ =\ 0.3f;}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}}.Duty\_C\ =\ 0.8f;}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a4b849dca1f135dd860c6f0ce88cc7c13}{PwmDutyUpt}}();}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a031511fea69b8fce19a44f86eb1858fe}{PwmSwOn}}();}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ PWM\_BUF\_ON;}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_OLC)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{group___control_mode_ga5e542439936627687d1a27ac7b6b50c2}{Theta\_mode}}\ =\ 1;}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a964ec348ab2be811f76c85501ac14208}{OpenLoopControl}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a68f857bdf76878fd721ac48e6c354997}{CurrentControl}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_Vref\_Gen)\ \{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a01248186cec9f4dadc54e4c94be940cf}{Vref\_GenControl}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_VOLC)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_aefbd0b8bc957317d7f22f0db0185683d}{VoltageOpenLoopControl}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.Param\_Estimation)\ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_aedf8f86f640274dface77130a3d50207}{VoltageInjection\_SquareWave}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_ALIGN)\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_ad14c7779ae276ada8516bc3d58997206}{Align}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a9013a288bba48367bf9d57702c80b1ee}{PwmSwOff}}();}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a4b849dca1f135dd860c6f0ce88cc7c13}{PwmDutyUpt}}();}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a1f6df58c2a073ad2274f97f6a504c96d}{ResetController}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_RUN\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_OLC\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_VOLC\ =\ 0;}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_ALIGN\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_NLC\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.TS\_MODE\ =\ 0;}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ \}}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a9013a288bba48367bf9d57702c80b1ee}{PwmSwOff}}();}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a4b849dca1f135dd860c6f0ce88cc7c13}{PwmDutyUpt}}();}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{inv_8c_a1f6df58c2a073ad2274f97f6a504c96d}{ResetController}}(\&\doxymbox{\hyperlink{inv_8c_a5b799dff3aee9e48ae67cfe1f9075e30}{INV}});}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_RUN\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_OLC\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_VOLC\ =\ 0;}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_ALIGN\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.INV\_NLC\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.TS\_MODE\ =\ \doxymbox{\hyperlink{flag_8c_ac09613eff9a28b2750787c13d7d6fdc9}{FLAG}}.READY\ =\ 0;}
\DoxyCodeLine{00137\ \ \ \ \ \}}
\DoxyCodeLine{00138\ \}}

\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{control_8c_afb486c446e28753e3dca5112dfdc8264_cgraph}
\end{center}
\end{figure}
이 함수를 호출하는 함수들에 대한 그래프입니다.:\+
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=259pt]{control_8c_afb486c446e28753e3dca5112dfdc8264_icgraph}
\end{center}
\end{figure}


\label{doc-var-members}
\Hypertarget{control_8c_doc-var-members}
\doxysubsection{변수 문서화}
\Hypertarget{control_8c_a8dde33cdd74f2fd5bc110c7986794411}\index{control.c@{control.c}!ControlCnt@{ControlCnt}}
\index{ControlCnt@{ControlCnt}!control.c@{control.c}}
\doxysubsubsection{\texorpdfstring{ControlCnt}{ControlCnt}}
{\footnotesize\ttfamily \label{control_8c_a8dde33cdd74f2fd5bc110c7986794411} 
uint32\+\_\+t Control\+Cnt}



제어 루프 실행 횟수 카운터 (디버깅용) TIM2 인터럽트마다 1씩 증가한다. uint32\+\_\+t 오버플로우 시 자연 순환. 



\doxymbox{\hyperlink{control_8c_source}{control.\+c}} 파일의 \doxymbox{\hyperlink{control_8c_source_l00044}{44}} 번째 라인에서 정의되었습니다.

\Hypertarget{control_8c_a22b804736f5648d52f639b2647d4ed13}\index{control.c@{control.c}!hadc1@{hadc1}}
\index{hadc1@{hadc1}!control.c@{control.c}}
\doxysubsubsection{\texorpdfstring{hadc1}{hadc1}}
{\footnotesize\ttfamily \label{control_8c_a22b804736f5648d52f639b2647d4ed13} 
ADC\+\_\+\+Handle\+Type\+Def hadc1\hspace{0.3cm}{\ttfamily [extern]}}



ADC1 HAL 핸들 구조체 



\doxymbox{\hyperlink{adc_8c_source}{adc.\+c}} 파일의 \doxymbox{\hyperlink{adc_8c_source_l00059}{59}} 번째 라인에서 정의되었습니다.

\Hypertarget{control_8c_aee4f58524acc5e1a9386b2e9223e4846}\index{control.c@{control.c}!T\_buffer@{T\_buffer}}
\index{T\_buffer@{T\_buffer}!control.c@{control.c}}
\doxysubsubsection{\texorpdfstring{T\_buffer}{T\_buffer}}
{\footnotesize\ttfamily \label{control_8c_aee4f58524acc5e1a9386b2e9223e4846} 
uint8\+\_\+t T\+\_\+buffer\+[0]\+\hspace{0.3cm}{\ttfamily [extern]}}

