<map id="TIM2_IRQHandler" name="TIM2_IRQHandler">
<area shape="rect" id="Node000001" title="TIM2 글로벌 인터럽트 핸들러 ★ 제어 루프 진입점 ★" alt="" coords="5,461,133,488"/>
<area shape="rect" id="Node000002" href="$control_8c.html#afb486c446e28753e3dca5112dfdc8264" title="PMSM 메인 제어 함수 (TIM2 인터럽트에서 100µs 주기로 호출)" alt="" coords="181,461,244,488"/>
<area shape="poly" id="edge1_Node000001_Node000002" title=" " alt="" coords="132,472,167,473,163,476,135,477"/>
<area shape="rect" id="Node000003" href="$adc_8c.html#a39fd8940b1565d6d40f65b288f358c6c" title="ADC 원시값을 물리량(전류/전압)으로 변환한다." alt="" coords="318,5,410,32"/>
<area shape="poly" id="edge2_Node000002_Node000003" title=" " alt="" coords="212,460,218,378,233,256,256,133,271,84,290,49,306,37,303,41,294,52,276,86,261,134,238,257,224,379,217,461"/>
<area shape="rect" id="Node000004" href="$inv_8c.html#ad14c7779ae276ada8516bc3d58997206" title="d축 전류 정렬 절차 (4단계 상태 머신)" alt="" coords="338,259,389,285"/>
<area shape="poly" id="edge3_Node000002_Node000004" title=" " alt="" coords="214,460,222,429,237,387,259,342,290,302,325,282,322,286,294,306,264,345,242,389,227,430,219,462"/>
<area shape="rect" id="Node000005" href="$inv_8c.html#a68f857bdf76878fd721ac48e6c354997" title="PI 전류 제어기 (d&#45;q 동기 좌표계)" alt="" coords="527,309,634,336"/>
<area shape="poly" id="edge9_Node000002_Node000005" title=" " alt="" coords="217,460,244,414,265,389,291,368,345,343,403,328,461,320,514,319,509,321,461,325,404,333,347,348,293,373,269,393,249,417,222,462"/>
<area shape="rect" id="Node000006" href="$inv_8c.html#a4b849dca1f135dd860c6f0ce88cc7c13" title="TIM1 CCR 레지스터에 듀티비를 업데이트한다." alt="" coords="726,183,826,209"/>
<area shape="poly" id="edge15_Node000002_Node000006" title=" " alt="" coords="213,460,221,395,237,302,260,211,274,175,290,150,335,109,379,78,424,58,469,48,517,47,568,55,621,70,679,92,704,107,727,127,761,169,756,169,723,130,701,111,677,97,619,75,566,60,517,52,470,53,425,63,381,83,338,113,294,154,279,177,265,213,242,303,226,396,218,461"/>
<area shape="rect" id="Node000007" href="$inv_8c.html#a031511fea69b8fce19a44f86eb1858fe" title="TIM1 PWM 출력을 활성화한다 (3상 상하 암 모두)." alt="" coords="732,284,820,311"/>
<area shape="poly" id="edge17_Node000002_Node000007" title=" " alt="" coords="243,461,291,447,350,437,402,434,490,436,532,436,576,432,623,419,676,396,700,381,722,362,755,325,759,322,726,366,704,385,679,401,625,424,577,437,532,442,490,442,402,439,351,442,293,452,246,465"/>
<area shape="rect" id="Node000008" href="$inv_8c.html#a5eb5c4adfd5c3833415678e1da00bf93" title="Hall 위치 테스트: 기본 전압 벡터를 순차 인가한다." alt="" coords="302,461,425,488"/>
<area shape="poly" id="edge10_Node000002_Node000008" title=" " alt="" coords="243,472,288,473,284,476,246,477"/>
<area shape="rect" id="Node000009" href="$inv_8c.html#a3db77525a1b8b485f18baebc7e086cb1" title="Hall 센서 기반 속도/위치 PLL 옵저버" alt="" coords="292,512,435,539"/>
<area shape="poly" id="edge11_Node000002_Node000009" title=" " alt="" coords="244,483,310,505,305,508,245,488"/>
<area shape="rect" id="Node000011" href="$adc_8c.html#a5c5c41c37d32d75b9a5844f877762629" title="전류 센서 오프셋을 자동 측정한다." alt="" coords="336,563,392,589"/>
<area shape="poly" id="edge13_Node000002_Node000011" title=" " alt="" coords="224,486,255,517,293,548,323,564,318,565,291,553,251,521,225,491"/>
<area shape="rect" id="Node000012" href="$inv_8c.html#a964ec348ab2be811f76c85501ac14208" title="전류 개루프 제어 (Open&#45;Loop Current Control)" alt="" coords="302,613,425,640"/>
<area shape="poly" id="edge14_Node000002_Node000012" title=" " alt="" coords="219,486,247,542,268,572,294,599,300,605,295,606,290,603,264,576,242,544,218,491"/>
<area shape="rect" id="Node000013" href="$inv_8c.html#a9013a288bba48367bf9d57702c80b1ee" title="TIM1 PWM 출력을 비활성화한다." alt="" coords="537,689,624,716"/>
<area shape="poly" id="edge16_Node000002_Node000013" title=" " alt="" coords="214,486,218,532,228,591,238,622,252,652,270,679,294,701,320,715,348,725,378,731,409,733,469,729,525,720,520,721,470,734,409,738,378,736,347,731,318,720,290,705,266,682,247,655,233,624,223,592,213,532,213,491"/>
<area shape="rect" id="Node000014" href="$inv_8c.html#a1f6df58c2a073ad2274f97f6a504c96d" title="모든 제어 상태 변수를 초기값으로 리셋한다." alt="" coords="308,765,420,792"/>
<area shape="poly" id="edge18_Node000002_Node000014" title=" " alt="" coords="214,486,219,536,230,603,254,678,271,713,294,745,306,757,301,757,290,748,267,716,249,680,225,605,214,536,213,491"/>
<area shape="rect" id="Node000015" href="$fault_8c.html#a5d0d662228c78364b02259814f0f8ccd" title="소프트웨어 고장 처리 함수" alt="" coords="312,664,416,691"/>
<area shape="poly" id="edge19_Node000002_Node000015" title=" " alt="" coords="216,486,226,521,240,564,262,610,294,650,301,657,295,657,290,654,258,613,235,566,221,522,215,491"/>
<area shape="rect" id="Node000016" href="$inv_8c.html#aa0c62359efaad04d667cc7d8d3e169e6" title="PI 속도 제어기 (rpm → 토크 기준 생성)" alt="" coords="314,816,414,843"/>
<area shape="poly" id="edge21_Node000002_Node000016" title=" " alt="" coords="216,486,226,554,242,648,265,741,279,778,294,802,303,812,298,811,290,806,274,780,260,743,237,650,221,555,214,491"/>
<area shape="rect" id="Node000017" href="$inv_8c.html#a9fabfabf3cf816a557870ac6174ba05b" title="제어기 게인을 현재 파라미터로 갱신한다." alt="" coords="304,867,423,893"/>
<area shape="poly" id="edge22_Node000002_Node000017" title=" " alt="" coords="216,486,225,563,239,673,262,781,277,824,294,853,297,858,292,856,290,856,272,826,257,783,234,674,219,564,214,491"/>
<area shape="rect" id="Node000018" href="$inv_8c.html#aedf8f86f640274dface77130a3d50207" title="d축 구형파 전압 주입 (파라미터 추정용)" alt="" coords="483,208,678,235"/>
<area shape="poly" id="edge23_Node000002_Node000018" title=" " alt="" coords="211,460,214,418,224,358,234,327,248,296,267,268,290,245,313,230,337,219,389,205,441,201,493,204,489,207,442,206,389,210,339,224,315,235,294,249,271,272,253,299,239,329,230,360,219,419,216,462"/>
<area shape="rect" id="Node000019" href="$inv_8c.html#aefbd0b8bc957317d7f22f0db0185683d" title="전압 개루프 제어 (Voltage Open&#45;Loop Control)" alt="" coords="498,360,663,387"/>
<area shape="poly" id="edge26_Node000002_Node000019" title=" " alt="" coords="223,459,251,430,270,415,291,403,338,386,388,375,485,368,480,371,389,381,340,391,293,408,273,419,255,434,227,462"/>
<area shape="rect" id="Node000020" href="$inv_8c.html#a01248186cec9f4dadc54e4c94be940cf" title="전압 기준 생성 제어 (전압 피드포워드 방식)" alt="" coords="522,107,639,133"/>
<area shape="poly" id="edge29_Node000002_Node000020" title=" " alt="" coords="211,460,213,413,223,344,233,307,247,270,266,235,290,205,313,185,339,168,395,143,453,128,509,122,504,125,454,134,397,148,342,173,316,189,294,209,270,238,251,272,238,309,228,345,218,413,216,461"/>
<area shape="poly" id="edge4_Node000004_Node000005" title=" " alt="" coords="389,275,515,306,510,308,390,280"/>
<area shape="poly" id="edge7_Node000004_Node000006" title=" " alt="" coords="378,256,423,223,452,206,483,193,542,181,603,177,660,179,713,185,708,187,660,184,603,183,543,187,484,199,454,211,426,227,382,260"/>
<area shape="poly" id="edge8_Node000004_Node000007" title=" " alt="" coords="389,271,719,292,715,296,390,276"/>
<area shape="poly" id="edge5_Node000005_Node000006" title=" " alt="" coords="601,307,743,216,739,220,604,311"/>
<area shape="poly" id="edge6_Node000005_Node000007" title=" " alt="" coords="633,313,720,304,715,306,635,318"/>
<area shape="rect" id="Node000010" href="$inv_8c.html#a158783ba9a4d5687c5fc417acfcc74a4" title="Hall 센서 3개의 상태를 3비트 정수로 변환한다." alt="" coords="512,512,649,539"/>
<area shape="poly" id="edge12_Node000009_Node000010" title=" " alt="" coords="435,523,499,524,494,526,436,528"/>
<area shape="poly" id="edge20_Node000015_Node000013" title=" " alt="" coords="416,681,524,695,519,696,417,686"/>
<area shape="poly" id="edge24_Node000018_Node000006" title=" " alt="" coords="677,206,713,203,708,206,679,211"/>
<area shape="poly" id="edge25_Node000018_Node000007" title=" " alt="" coords="626,233,679,251,735,277,730,278,677,256,627,238"/>
<area shape="poly" id="edge27_Node000019_Node000006" title=" " alt="" coords="656,357,676,346,694,329,703,313,723,271,756,225,759,221,728,273,708,315,698,333,679,350,659,362"/>
<area shape="poly" id="edge28_Node000019_Node000007" title=" " alt="" coords="642,357,677,346,741,317,736,320,679,350,644,362"/>
<area shape="poly" id="edge30_Node000020_Node000006" title=" " alt="" coords="626,131,679,150,735,175,730,176,677,154,627,136"/>
<area shape="poly" id="edge31_Node000020_Node000007" title=" " alt="" coords="601,131,679,194,755,272,750,273,676,198,601,137"/>
</map>
